<div class="main">
    <div class="topDiv">
        <h2>Top-up + Combined Loan Details</h2>
        <div class="row g-2 align-items-center" style="height:70%">

            <form [formGroup]="emiForm" style="height:87%;width:100%">
                <div class="form-group" id="firstForm">

                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">Top-Up(₹)</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4;">
                            <input id="topUp" type="number" class="form-control" formControlName="topUp" max="5000000"
                                min="0" />

                            <div *ngIf="emiForm.controls['topUp']?.touched">
                                <span style="color:red; font-size: 12px;">
                                    <div
                                        *ngIf="(emiForm.controls['topUp'] || emiForm.controls['exposure'])?.errors?.['required']">
                                        Final Top-Up is required {{flag}}
                                    </div>

                                    <div *ngIf="emiForm.controls['topUp']?.errors?.['max']">
                                        Maximum Top-Up Should be 500000
                                    </div>
                                    <div *ngIf="emiForm.controls['topUp']?.errors?.['min']">
                                        Minimum Top-Up Should be 0
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>




                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">Exposure(₹)</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4">
                            <input type="number" class="form-control" formControlName="exposure" max="5000000"
                                min="0" (change)="12314"/>

                            <div *ngIf="emiForm.controls['exposure']?.touched" >
                                <span style="color:red; font-size: 12px;">
                                    <div *ngIf="emiForm.controls['exposure']?.errors?.['required']">
                                        Final Top-Up is required
                                    </div>
                                    <div *ngIf="emiForm.controls['exposure']?.errors?.['max']">
                                        Maximum Top-Up Should be 5000000
                                    </div>
                                    <div *ngIf="emiForm.controls['exposure']?.errors?.['min']">
                                        Minimum Top-Up Should be 0
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>



                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">Tenure(month)</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4">
                            <select formControlName="tenure" min>
                                <option value="">Select</option>
                                <option *ngFor="let ele of array" value={{ele}}>{{ele}}</option>
                            </select>
                            <div *ngIf="emiForm.controls['tenure']?.errors?.['min']">
                                Minimum Top-Up Should be 0
                            </div>
                        </div>
                    </div>




                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">ROI(%)</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4">
                            <input type="number" class="form-control" formControlName="roi" max="18" min="18" />

                            <div *ngIf="emiForm.controls['roi']?.touched">
                                <span style="color:red; font-size: 12px;">
                                    <div *ngIf="emiForm.controls['roi']?.errors?.['required']">
                                        Final ROI is required
                                    </div>
                                    <div *ngIf="emiForm.controls['roi']?.errors?.['max']">
                                        Rate of Interest is Fixed,18%
                                    </div>
                                    <div *ngIf="emiForm.controls['roi']?.errors?.['min']">
                                        Rate of Interest is Fixed,18%
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>




                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">ForeClosure</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4">
                            <input type="number" class="form-control" formControlName="foreClosure" />

                            <div *ngIf="emiForm.controls['foreClosure']?.touched">
                                <span style="color:red; font-size: 12px;">
                                    <div *ngIf="emiForm.controls['foreClosure']?.errors?.['required']">
                                        ForeClosure is required
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>




                    <div class="grid">
                        <div>
                            <label style="margin:5px 0px;">Due Day</label>
                        </div>
                        <div style="grid-column-start:2;grid-column-end:4;">
                            <input type="number" class="form-control" formControlName="dueDay" max="2" min="0" />

                            <div *ngIf="emiForm.controls['pf']?.touched">
                                <span style="color:red; font-size: 12px;">
                                    <div *ngIf="emiForm.controls['pf']?.errors?.['required']">
                                        PF is required
                                    </div>
                                    <div *ngIf="emiForm.controls['pf']?.errors?.['max']">
                                        PF is Fixed,2%
                                    </div>
                                    <div *ngIf="emiForm.controls['pf']?.errors?.['min']">
                                        PF is Fixed,2%
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>



                </div>
            </form>


        </div>
    </div>

    <div class="bottomDiv">
        <div class="bottomDivPart1">
            <h2>Processing Fees</h2>
            <div class="row g-2 align-items-center" style="height:80%">

                <form [formGroup]="emiForm" style="height:87%;width:100%">
                    <div class="form-group" id="secondForm">

                        <div class="grid">
                            <div>
                                <label style="margin:5px 0px;">PF in %</label>
                            </div>
                            <div style="grid-column-start:2;grid-column-end:4;">
                                <input id="pf" type="number" class="form-control" formControlName="pf"
                                    max="2" min="2" />

                                <div *ngIf="emiForm.controls['pf']?.touched">
                                    <span style="color:red; font-size: 12px;">
                                        <div
                                            *ngIf="(emiForm.controls['pf'] || emiForm.controls['exposure'])?.errors?.['required']">
                                            Final Top-Up is required {{flag}}
                                        </div>

                                        <div *ngIf="emiForm.controls['pf']?.errors?.['max']">
                                            Maximum Top-Up Should be 500000
                                        </div>
                                        <div *ngIf="emiForm.controls['pf']?.errors?.['min']">
                                            Minimum Top-Up Should be 0
                                        </div>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="grid">
                            <div>
                                <label style="margin:5px 0px;">PF in rupees</label>
                            </div>
                            <div style="grid-column-start:2;grid-column-end:4;">
                                <input id="topUp" type="number" class="form-control" formControlName="topUp"
                                    max="5000000" min="0" />

                                <div *ngIf="emiForm.controls['topUp']?.touched">
                                    <span style="color:red; font-size: 12px;">
                                        <div
                                            *ngIf="(emiForm.controls['topUp'] || emiForm.controls['exposure'])?.errors?.['required']">
                                            Final Top-Up is required {{flag}}
                                        </div>

                                        <div *ngIf="emiForm.controls['topUp']?.errors?.['max']">
                                            Maximum Top-Up Should be 500000
                                        </div>
                                        <div *ngIf="emiForm.controls['topUp']?.errors?.['min']">
                                            Minimum Top-Up Should be 0
                                        </div>
                                    </span>
                                </div>
                            </div>
                        </div>


                        <div class="grid">
                            <div>
                                <label style="margin:5px 0px;">GST</label>
                            </div>
                            <div style="grid-column-start:2;grid-column-end:4;">
                                <input id="gst" type="number" class="form-control" formControlName="gst"
                                    max="5000000" min="0" [readonly]="true"/>

                                <div *ngIf="emiForm.controls['gst']?.touched">
                                    <span style="color:red; font-size: 12px;">
                                        <div
                                            *ngIf="(emiForm.controls['gst'] || emiForm.controls['exposure'])?.errors?.['required']">
                                            Final Top-Up is required {{flag}}
                                        </div>

                                        <div *ngIf="emiForm.controls['gst']?.errors?.['max']">
                                            Maximum Top-Up Should be 500000
                                        </div>
                                        <div *ngIf="emiForm.controls['gst']?.errors?.['min']">
                                            Minimum Top-Up Should be 0
                                        </div>
                                    </span>
                                </div>
                            </div>
                        </div>



                        <div class="grid">
                            <div>
                                <label style="margin:5px 0px;">Total PF</label>
                            </div>
                            <div style="grid-column-start:2;grid-column-end:4;">
                                <input id="topUp" type="number" class="form-control" formControlName="topUp"
                                    max="5000000" min="0" />

                                <div *ngIf="emiForm.controls['topUp']?.touched">
                                    <span style="color:red; font-size: 12px;">
                                        <div
                                            *ngIf="(emiForm.controls['topUp'] || emiForm.controls['exposure'])?.errors?.['required']">
                                            Final Top-Up is required {{flag}}
                                        </div>

                                        <div *ngIf="emiForm.controls['topUp']?.errors?.['max']">
                                            Maximum Top-Up Should be 500000
                                        </div>
                                        <div *ngIf="emiForm.controls['topUp']?.errors?.['min']">
                                            Minimum Top-Up Should be 0
                                        </div>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>



        <div class="bottomDivPart2" >
            <div class="box">
                <p style="margin: 0;font-size: 20px;font-weight: bold;">Total Loan</p>
                <h3>₹ {{test}}</h3>
            </div>
            <div class="box">
                <p style="margin: 0;font-size: 20px;font-weight: bold;">Total Loan</p>
                <h3>₹ 100000</h3>
            </div>
            <div class="box">
                <p style="margin: 0;font-size: 20px;font-weight: bold;">Total Loan</p>
                <h3>₹ 100000</h3>
            </div>
            <div class="box" style="border: none;display: flex;justify-content: center;">
                <button type="button" class="btn btn-outline-primary" style="font-size:25px;"
                    [disabled]="!emiForm.valid" (click)="emiCalculator()">Calculate Emi</button>
            </div>

        </div>
    </div>


    <!-- <div *ngIf="flag == true">
        <div class="row g-2 align-items-center">
            <h3>Your Monthly EMI will be ₹{{emi}}</h3>
        </div>
    </div> -->
</div>



<div class="lastDiv">
    <div><button type="button" class="btn btn-outline-secondary" style="width:98%;font-size:25px;">Lock
            Offer</button></div>
    <div style="display: flex;justify-content: end;"><button type="button" class="btn btn-outline-secondary"
            style="width:98%;font-size:25px;margin: left 100px;;">Update Details</button></div>
</div>




<!-- <div class="parent">
    <div class="child1">
        <h2>EMI Calculator</h2>
        <div class="formGrid">
            <div class="grid">
                <div>
                    <label style="margin:5px 0px;">Rate Of Interest (%)</label>
                </div>
                <div style="grid-column-start:2;grid-column-end:4">
                    <input type="number" class="form-control" formControlName="roi" max="21" min="0" />

                    <div *ngIf="emiForm.controls['roi']?.touched">
                        <span style="color:red; font-size: 12px;">
                            <div *ngIf="emiForm.controls['roi']?.errors?.['required']">
                                Final ROI is required
                            </div>
                            <div *ngIf="emiForm.controls['roi']?.errors?.['max']">
                                Maximum Rate of Interest Should be 21%
                            </div>
                            <div *ngIf="emiForm.controls['roi']?.errors?.['min']">
                                Minimum Rate of Interest Should be 0
                            </div>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="child2"></div>
</div> -->